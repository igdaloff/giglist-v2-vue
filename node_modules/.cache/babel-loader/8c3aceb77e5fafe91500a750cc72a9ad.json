{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = [\"value\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selected = $event),\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.getCityData && $options.getCityData(...args))\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.cities, city => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: city.id,\n      value: city.id\n    }, _toDisplayString(city.label), 9\n    /* TEXT, PROPS */\n    , _hoisted_1);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))], 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  )), [[_vModelSelect, $data.selected]]);\n}","map":{"version":3,"mappings":";;;wCACEA,oBAES,QAFT,EAES;+DAFQC,iBAAQC,OAEhB;IAFmBC,QAAM,yCAAEC,qDAAF;EAEzB,CAFT,sBACEJ,oBAAwFK,SAAxF,EAAwF,IAAxF,EAAwFC,YAAjEL,YAAiE,EAAzEM,IAAc,IAAV;yBAAnBP,oBAAwF,QAAxF,EAAwF;MAAxDQ,GAAG,EAAED,IAAI,CAACE,EAA8C;MAAzCC,KAAK,EAAEH,IAAI,CAACE;IAA6B,CAAxF,mBAAkEF,IAAI,CAACI,MAAvE,EAA4E;IAAA;IAA5E,EAA4EC,UAA5E;GAAwF,CAAxF;;EAAA,GADF;;EAAA,qBAAiBX","names":["_createElementBlock","$data","$event","onChange","$options","_Fragment","_renderList","city","key","id","value","label","_hoisted_1"],"sourceRoot":"","sources":["/Users/nathan/Sites/giglist-v2-vue/src/components/CitySelect.vue"],"sourcesContent":["<template>\n  <select v-model=\"selected\" @change=\"getCityData\">\n    <option v-for=\"city in cities\" :key=\"city.id\" :value=\"city.id\">{{ city.label }}</option>\n  </select>\n</template>\n\n<script>\n\nimport cityData from \"../data/songkickCityData.js\"\n\nexport default {\n  data() {\n    return {\n      selected: 7644,\n      cities: cityData,\n    }\n  },\n  methods: {\n    getSongkickUrl(songkickCityId) {\n      const now = new Date()\n      const today = now.toISOString().slice(0, 10)\n      const songkickAPIKey = 'RpuYqxFiPPsJPs5l'\n      let songkickUrl = `https://api.songkick.com/api/3.0/metro_areas/${songkickCityId}/calendar.json?min_date=${today}&apikey=${songkickAPIKey}`;\n      return songkickUrl;\n    },\n    getCityData(e) {\n      const songkickCityId = e.target.value\n      let songkickUrl = this.getSongkickUrl(songkickCityId)\n\n      fetch(songkickUrl)\n        .then(res = res.json())\n        \n\n    },\n  }\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}